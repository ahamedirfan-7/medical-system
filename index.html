
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Medical Management System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- QR Code -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>
<body>

<!-- ================= AUTH ================= -->
<section id="auth-section">
  <div class="auth-card">
    <h2>üè• Medical Management</h2>

    <!-- LOGIN -->
    <form id="login-form">
      <input id="login-username" placeholder="Username" required>
      <input id="login-password" type="password" placeholder="Password" required>

      <select id="login-role">
        <option value="admin">Admin</option>
        <option value="receptionist">Receptionist</option>
      </select>

      <button type="submit">Login</button>
      <p id="login-error"></p>

      <p class="switch">
        New user? <span onclick="toggleAuth()">Create account</span>
      </p>
    </form>

    <!-- REGISTER -->
    <form id="register-form" class="hidden">
      <input id="reg-username" placeholder="Username" required>
      <input id="reg-password" type="password" placeholder="Password" required>

      <select id="reg-role">
        <option value="admin">Admin</option>
        <option value="receptionist">Receptionist</option>
      </select>

      <button type="submit">Create Account</button>
      <p id="register-msg"></p>

      <p class="switch">
        Already have account? <span onclick="toggleAuth()">Login</span>
      </p>
    </form>
  </div>
</section>

<!-- ================= APP ================= -->
<div id="app" class="hidden">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h3>üè• Clinic</h3>

    <button data-view="dashboard">Dashboard</button>
    <button data-view="patients" data-role="admin receptionist">Patients</button>
    <button data-view="doctors" data-role="admin receptionist">Doctors</button>
    <button data-view="appointments">Appointments</button>

    <button id="logout"
  style="
    background:#f40202;
    color:white;
    border:none;
    cursor:pointer;
  ">
  Logout
</button>

  </aside>

  <!-- CONTENT -->
  <main class="content">

    <!-- DASHBOARD -->
    <section id="dashboard" class="view">
      <h1>Dashboard</h1>
      <!-- DOCTOR DASHBOARD -->
<section id="doctor-dashboard" class="view hidden">
  <h1>Doctor Dashboard</h1>

  <div class="dashboard-cards">
    <div class="dash-card">
      My Appointments <span id="doctor-appointments">0</span>
    </div>
  </div>

  <h3>Today Appointments</h3>

  <table class="data-table">
    <thead>
      <tr>
        <th>Patient</th>
        <th>Date</th>
        <th>Fees</th>
        <th>Payment</th>
      </tr>
    </thead>
    <tbody id="doctor-appointment-list"></tbody>
  </table>
</section>


      <div class="dashboard-cards">
        <div class="dash-card">
          Patients <span id="total-patients">0</span>
        </div>
        <div class="dash-card">
          Doctors <span id="total-doctors">0</span>
        </div>
        <div class="dash-card">
          Appointments <span id="total-appointments">0</span>
        </div>
      </div>
    </section>

    <!-- PATIENTS -->
    <section id="patients" class="view hidden">
      <h2>Patients</h2>

      <form id="patient-form">
        <input id="p-name" placeholder="Name" required>
        <input id="p-age" type="number" placeholder="Age" required>

        <select id="p-gender" required>
          <option value="">Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>

        <input id="p-complaint" placeholder="Complaint" required>

        <select id="p-doctor" required>
          <option value="">Select Doctor</option>
        </select>

        <button type="submit">Add Patient</button>
      </form>

      <table class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Complaint</th>
            <th>Doctor</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="patient-list"></tbody>
      </table>
    </section>

    <!-- DOCTORS -->
    <section id="doctors" class="view hidden">
      <h2>Doctors</h2>

      <form id="doctor-form">
        <input id="d-name" placeholder="Doctor Name" required>
        <input id="d-specialty" placeholder="Specialty" required>

        <select id="d-availability">
          <option value="Full Day">Full Day</option>
          <option value="Morning">Morning</option>
          <option value="Evening">Evening</option>
        </select>

        <button type="submit">Add Doctor</button>
      </form>

      <table class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Specialty</th>
            <th>Availability</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="doctor-list"></tbody>
      </table>
    </section>

    <!-- APPOINTMENTS -->
    <section id="appointments" class="view hidden">
      <h2>Appointments & Payment</h2>

      <form id="appointment-form">
        <select id="a-patient" required>
          <option value="">Select Patient</option>
        </select>

        <select id="a-doctor" required>
          <option value="">Select Doctor</option>
        </select>

        <input type="datetime-local" id="a-date" required>
        <input type="number" id="a-fees" placeholder="Fees ‚Çπ" required>

        <select id="a-payment" required>
          <option value="">Payment Method</option>
          <option value="UPI">UPI</option>
          <option value="Card">Card</option>
          <option value="Cash">Cash</option>
        </select>

        <div id="card-box" class="hidden">
          <input id="card-number" placeholder="Card Number">
          <input id="card-expiry" placeholder="MM/YY">
          <input id="card-cvv" placeholder="CVV">
        </div>

        <button type="submit">Book & Pay</button>
      </form>

      <div id="qr-box" class="hidden">
        <h3>Scan & Pay (UPI)</h3>
        <canvas id="qr-code"></canvas><br><br>
        <button onclick="confirmUPIPayment()">Payment Done</button>
      </div>

      <table class="data-table">
        <thead>
          <tr>
            <th>Patient</th>
            <th>Doctor</th>
            <th>Date</th>
            <th>Fees</th>
            <th>Payment</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="appointment-list"></tbody>
      </table>
    </section>

  </main>
</div>

<script src="script.js"></script>
</body>
</html>
